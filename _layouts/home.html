{% include doctype.html %}
<header>
  {% include nav.html %}
  <div class="heroBio">
    <h1 class="heroName">Hi I'm Rodrigo</h1>
    <p>Im a designer, at home barista, & an amateur chef.</p>
  </div>
</header>
<div  id="app" class="mainContainer">
  {{content}}
</div>

  <script type="text/javascript" src="
https://unpkg.com/vue"></script>
<script type="text/javascript" src="
https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.js"></script>
<script type="text/javascript">
    var app = new Vue({
    el: '#app',
    delimiters: ["((", "))"],
    data: {
        Coffees: [],
        events:[],
          Bo: "/images/rodrigo-ibarra.png",
          BoGlitched: "/images/glitchedBo.png"
    },
    computed:{
      countAll: function() {
      return this.events.length
    },
      sortedCoffees: function() {
      return this.Coffees.sort((a, b) => new Date(a.roastDate) - new Date(b.roastDate))
    },
    lastCoffee() {
    	return this.sortedCoffees.slice(-1)[0]
    }
    },
    mounted() {
        axios.get("https://yavin4.herokuapp.com/api/coffees/")
        .then(response => {
            console.log(response.data);
            this.Coffees = response.data}),
            axios.get("https://yavin4.herokuapp.com/api/events/")
        .then(response => {
          console.log(response.data);
            this.events = response.data})
    }
    });
</script>
{% include footer.html %}

{% include netlify.html%}
</body>
</html>
